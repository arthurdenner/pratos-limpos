<ion-content padding>
  <div>
    <ion-img class="logo" src="../../assets/imgs/logo.svg"></ion-img>
    <p class="logo-name">Pratos Limpos</p>
  </div>

  <form [formGroup]="user" (ngSubmit)="signup()">
    <ion-item>
      <ion-label color="primary" stacked>Nome completo</ion-label>
      <ion-input autofocus formControlName="name"></ion-input>
    </ion-item>

    <ion-item>
      <ion-label color="primary" stacked>E-mail</ion-label>
      <ion-input formControlName="email" type="email"></ion-input>
    </ion-item>

    <ion-item>
      <ion-label color="primary" stacked>Senha</ion-label>
      <ion-input formControlName="password" type="password"></ion-input>
    </ion-item>

    <ion-label color="primary" stacked>Escola</ion-label>
    <ion-item>
      <select-searchable
        formControlName="school"
        itemValueField="_id"
        itemTextField="name"
        searchPlaceholder="Digite 3 caracteres ou mais"
        closeButtonText="Cancelar"
        noItemsFoundText="Nenhuma escola encontrada"
        [canSearch]="true"
        (onSearch)="searchSchools($event)"
      >
        <ng-template selectSearchableTitleTemplate>
          Escolher Escola
        </ng-template>
      </select-searchable>
    </ion-item>

    <div class="buttons">
      <button ion-button block [disabled]="!user.valid">
        Criar conta
      </button>
      <p style="text-align: center">ou</p>
      <button
        (click)="toToLogin()"
        block
        color="secondary"
        ion-button
        type="button"
      >
        Entrar
      </button>
    </div>
  </form>
</ion-content>
