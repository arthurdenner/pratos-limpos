<ion-content padding>
  <form class="profile-form" (ngSubmit)="updateProfile()">
    <ion-item>
      <ion-label color="primary" stacked>Nome completo</ion-label>
      <ion-input [(ngModel)]="loggedUser.name" name="name"></ion-input>
    </ion-item>

    <ion-item>
      <ion-label color="primary" stacked>E-mail</ion-label>
      <ion-input disabled type="email" [(ngModel)]="loggedUser.email" name="email"></ion-input>
    </ion-item>

    <ion-label color="primary" stacked>Escola</ion-label>
    <ion-item>
      <select-searchable
        [(ngModel)]="loggedUser.school"
        name="school"
        itemValueField="_id"
        itemTextField="name"
        searchPlaceholder="Digite 3 caracteres ou mais"
        closeButtonText="Cancelar"
        noItemsFoundText="Nenhuma escola encontrada"
        [canSearch]="true"
        (onChange)="updateUserSchool($event)"
        (onSearch)="searchSchools($event)"
      >
        <ng-template selectSearchableTitleTemplate>
          Escolher Escola
        </ng-template>
      </select-searchable>
    </ion-item>

    <div class="buttons">
      <button ion-button block [disabled]="!loggedUser.name">
        Atualizar dados
      </button>
    </div>
  </form>
  <button
    (click)="signOut()"
    block
    color="secondary"
    ion-button
    type="button"
  >
    Sair
  </button>
</ion-content>
